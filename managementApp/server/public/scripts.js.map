{"version":3,"sources":["webpack:///client/assets/js/checkTable.js"],"names":[],"mappings":"AAAA;AACA,uBAAuB,MAAM;AAC7B,6BAA6B,MAAM;AACnC;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA,sBAAsB,MAAM;AAC5B;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA,0BAA0B,MAAM;AAChC,iBAAiB;AACjB;AACA,8BAA8B,MAAM;AACpC,qBAAqB;AACrB,8BAA8B,MAAM;AACpC;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,mDAAmD,MAAM;AACzD;AACA;AACA,gCAAgC,MAAM;AACtC;AACA;AACA;AACA,aAAa;AACb,oCAAoC,MAAM;AAC1C,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,MAAM;AACjC,iCAAiC,MAAM;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA,8BAA8B,MAAM;AACpC;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,MAAM;AAC7B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL,kCAAkC,MAAM;AACxC,cAAc,MAAM;AACpB;;;AAGA,C","file":"scripts.js","sourcesContent":["function checkTable(tblId, tdInfo) {\r\n    var thList = $(`#${tblId}`).find('.th-id-wrap');\r\n    var checkBoxItem = $(`#${tblId}`).find('.mg-item-checkbox');\r\n    var storeKey = tblId + '_width';\r\n    var widthInfoStr = localStorage.getItem(storeKey);\r\n\r\n    var curTblWidth = 0;\r\n    if(tblId == 'substation-partner-tbl') {\r\n        curTblWidth = $('#' + tblId).find('.ui-table-wrapper table').outerWidth();\r\n    } else {\r\n        curTblWidth = $('#' + tblId).outerWidth();\r\n    }\r\n    thList.each(function (index, item) {\r\n        var thText = $(this).text().trim();\r\n        if (thText == tdInfo.header) {\r\n            var thW = $(this).outerWidth();\r\n            var widthInfo = {};\r\n            if(tdInfo.visibility) { //Hidden => Show (Reading hidden td width from LocalStorage)\r\n                if(widthInfoStr) {\r\n                    widthInfo = JSON.parse(widthInfoStr);\r\n                    thW = widthInfo[index];\r\n                    curTblWidth = curTblWidth + thW;\r\n                }\r\n            } else { //Show => Hidden (Writing td width to LocalStorage)\r\n                curTblWidth = curTblWidth - thW;\r\n            }\r\n            if(tblId == 'substation-partner-tbl') {\r\n                $(`#${tblId}`).find('.ui-table-wrapper table').width(curTblWidth);\r\n                console.error('removed any column....');\r\n                if(curTblWidth>window.innerWidth*0.94){\r\n                    $(`#substation-partner-tbl`).find('.ui-table-wrapper').css('overflow-y','auto');\r\n                }else{\r\n                    $(`#substation-partner-tbl`).find('.ui-table-wrapper').css('overflow-y','unset');\r\n                }\r\n            } else {\r\n                $('#' + tblId).outerWidth(curTblWidth);\r\n                if(checkBoxItem.length>0) {\r\n                    $(`#${tblId}`).find('.ui-table-wrapper table').width(curTblWidth - 42)\r\n                } else {\r\n                    if(tblId = \"partner-address-list\") {\r\n                        $(`#${tblId}`).find('.ui-table-wrapper table').width(curTblWidth - 42)\r\n                    } else {\r\n                        $(`#${tblId}`).find('.ui-table-wrapper table').width(curTblWidth - 78)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction initTable(tblId) {\r\n    //Save initial table width data\r\n    var prevWidthSetting = localStorage.getItem(`${tblId}_width`);\r\n    if(!prevWidthSetting){\r\n        setTimeout(function () {\r\n            var thList  = $(`#${tblId}`).find('.th-id-wrap');\r\n            var tdWidthList = [];\r\n            thList.each(function () {\r\n                tdWidthList.push($(this).outerWidth());\r\n            });\r\n            localStorage.setItem(`${tblId}_width`, JSON.stringify(tdWidthList));\r\n        },1000);\r\n    }\r\n}\r\n\r\nfunction readTable(tblId) {\r\n    //Restore saved table width data\r\n    setTimeout(function () {\r\n        var thList = $(`#${tblId}`).find('.th-id-wrap');\r\n        var checkBoxItem = $(`#${tblId}`).find('.mg-item-checkbox');\r\n        var storeKey = tblId + '_width';\r\n        var widthInfoStr = localStorage.getItem(storeKey);\r\n        var visibleSettingStr = localStorage.getItem(tblId + '_setting');\r\n        if (widthInfoStr) {\r\n            var widthInfo = JSON.parse(widthInfoStr);\r\n            var visibleSetting = JSON.parse(visibleSettingStr);\r\n            var visibleCols = visibleSetting.visible;\r\n            var tblWidth = 0;\r\n            if (widthInfo.length == thList.length) {\r\n                thList.each(function (index, item) {\r\n                    $(this).outerWidth(widthInfo[index]);\r\n                    var thText = $(this).text().trim();\r\n                    if(visibleCols.indexOf(thText)>-1){\r\n                        tblWidth += widthInfo[index];\r\n                    }\r\n                });\r\n                if(checkBoxItem.length>0){\r\n                    $('#' + tblId).outerWidth(tblWidth + 90);\r\n                } else {\r\n                    if(tblId == 'substation-partner-tbl') {\r\n                        $(`#${tblId}`).find('.ui-table-wrapper table').outerWidth(tblWidth);\r\n                        if(tblWidth>window.innerWidth*0.94){\r\n                            $(`#substation-partner-tbl`).find('.ui-table-wrapper').css('overflow-y','auto');\r\n                        }else{\r\n                            $(`#substation-partner-tbl`).find('.ui-table-wrapper').css('overflow-y','unset');\r\n                        }\r\n                    } else {\r\n                        $('#' + tblId).outerWidth(tblWidth + 80);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            initTable(tblId);\r\n        }\r\n    },50);\r\n}\r\n\r\nfunction updateTableWidth(tblId, tdInfo) {\r\n    console.log('column resizing.....');\r\n    var curThName = $(tdInfo.element).text();\r\n    //Get Th tag Index and Setting Table Width Info\r\n    var thList = $(`#${tblId}`).find('.th-id-wrap');\r\n    var curThIndex = 0;\r\n    thList.each(function (index, item) {\r\n        if($(this).text()== curThName) {\r\n            curThIndex = index;\r\n        }\r\n    });\r\n\r\n    var storeKey = tblId + '_width';\r\n    var widthInfoStr = localStorage.getItem(storeKey);\r\n    if (widthInfoStr) {\r\n        var widthInfo = JSON.parse(widthInfoStr);\r\n        widthInfo[curThIndex] = widthInfo[curThIndex] + tdInfo.delta;\r\n        localStorage.setItem(storeKey, JSON.stringify(widthInfo));\r\n    }\r\n\r\n    if(tblId == 'substation-partner-tbl') {\r\n        console.error('helellel');\r\n        var curPartnerTblWidth = $(`#substation-partner-tbl`).find('.ui-table-wrapper table').outerWidth();\r\n        if(curPartnerTblWidth>window.innerWidth*0.94){\r\n            $(`#substation-partner-tbl`).find('.ui-table-wrapper').css('overflow-y','auto');\r\n        }else{\r\n            $(`#substation-partner-tbl`).find('.ui-table-wrapper').css('overflow-y','unset');\r\n        }\r\n    } else {\r\n        var prevWrapWidth = $(`#${tblId}`).outerWidth();\r\n        $(`#${tblId}`).outerWidth(prevWrapWidth + tdInfo.delta);\r\n    }\r\n\r\n\r\n}"],"sourceRoot":""}